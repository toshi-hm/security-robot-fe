# セッション開始時プロンプト雛形

**このファイルは、毎回新しいセッションを開始する際に、AI実装アシスタントに提示するプロンプトの雛形です。**

---

## 📋 セッション開始時の指示

あなたはセキュリティロボット強化学習システムの実装を担当するAI開発アシスタントです。新しいセッションを開始するにあたり、以下の手順を**必ず実行**してください。

### ステップ1: 進捗ファイルの確認

```bash
cat report/progress.md
```

このファイルには以下の情報が記載されています:
- ✅ **実装済み機能**: どのPhaseまで完了しているか
- 🔧 **未実装TODO**: まだ実装していない機能・タスク
- 🚧 **技術的課題**: 現在抱えている問題や検討事項

**確認後、現在の進捗状況を把握してください。**

---

### ステップ2: 最新セッション日記の確認

```bash
# 最新のセッション記録を表示
ls -t report/sessions/ | head -1 | xargs -I {} cat report/sessions/{}
```

このファイルには以下の情報が記載されています:
- 📝 **前回の作業内容**: どのタスクを実施したか
- ⚠️ **遭遇した問題と解決方法**: エラーやバグの対処履歴
- 🔜 **次回への引き継ぎ**: 今回のセッションで取り組むべきタスク

**確認後、前回のセッションからの継続性を理解してください。**

---

### ステップ3: 設計書の参照

実装作業では以下の設計書を参照しながら進めてください:

#### 全体実装の場合:
1. `instructions/01_system_architecture_design_standalone.md` - システム全体設計
2. `instructions/02_backend_api_design_standalone.md` - バックエンドAPI詳細
3. `instructions/03_frontend_design_standalone.md` - フロントエンド設計
4. `instructions/04_test_design_standalone.md` - テスト設計
5. `instructions/05_infrastructure_deployment_standalone.md` - インフラ設計

#### フロントエンド実装のみの場合:
1. `instructions/03_frontend_design_standalone.md` - フロントエンド詳細設計（**最重要**）
2. `instructions/04_test_design_standalone.md` - テスト設計（フロントエンド部分）
3. `instructions/01_system_architecture_design_standalone.md` - システム全体設計（参考）

#### 実装ガイド:
- `instructions/prompts/00_implementation_guide.md` - 全体実装ガイド
- `instructions/prompts/01_frontend_implementation_guide.md` - フロントエンド実装ガイド

**設計書を読んでから実装を開始し、仕様との整合性を保ってください。**

---

### ステップ4: 今回のセッションのゴール設定

上記の情報を確認した上で、今回のセッションで達成すべきゴールを設定してください:

**例:**
```
今回のセッションのゴール:
- Phase 3のリポジトリ層実装完了
- TrainingRepository, EnvironmentRepositoryの実装
- 単体テスト作成（カバレッジ85%以上）
- progress.mdの更新
- セッション日記の記録
```

---

### ステップ5: 実装作業の開始

ゴールが設定できたら、以下の原則に従って実装を進めてください:

#### 実装の原則:
1. **設計書優先**: 必ず設計書の仕様通りに実装する
2. **テスト駆動**: 機能実装と同時にテストを書く
3. **型安全性**: TypeScript strict mode、Python type hints を徹底
4. **コード品質**: ESLint, Stylelint, Black を適用
5. **段階的確認**: Phase完了時に動作確認を行う

#### 実装中の注意事項:
- **ファイルパス**: 設計書に記載された正確なディレクトリ構造に従う
- **命名規則**: BEM記法（CSS）、キャメルケース（TS）、スネークケース（Python）
- **インポート**: 相対パスではなくエイリアス（~/）を使用
- **コメント**: 複雑なロジックには必ずコメントを追加

---

### ステップ6: セッション終了時の記録

作業完了後は**必ず**以下を実行してください:

#### 6.1 進捗ファイルの更新

```bash
# report/progress.md を編集
# 以下の内容を更新:
# - 実装済み機能セクション: 今回完了した機能を追加
# - TODO セクション: 完了したタスクを削除、新しいタスクを追加
# - 技術的課題セクション: 新たに発見した問題を記録
```

#### 6.2 セッション日記の作成

```bash
# 今日の日付でセッション日記を作成
# ファイル名: report/sessions/YYYY-MM-DD_session.md
# または: report/sessions/YYYY-MM-DD_frontend_session.md（フロントエンドのみの場合）
```

**セッション日記には以下を記録:**
- セッション情報（開始・終了時刻、対象Phase）
- 実施したタスク（実装したコンポーネント、修正したバグ等）
- 遭遇した問題と解決方法
- テスト結果（カバレッジ、成功/失敗件数）
- 次回セッションへの引き継ぎ事項
- 技術的メモ（コード例、コマンド等）

**雛形:**
```markdown
# [フロントエンド]セッション記録: YYYY-MM-DD

## セッション情報
- 開始時刻: HH:MM
- 終了時刻: HH:MM
- 対象Phase: Phase X
- 担当者: AI実装アシスタント

## 実施したタスク
- [ ] タスク1
- [ ] タスク2

## 遭遇した問題と解決方法
### 問題1: タイトル
- **現象**: 何が起きたか
- **原因**: なぜ起きたか
- **解決策**: どう解決したか

## テスト結果
- 単体テストカバレッジ: XX%
- E2Eテスト: N件成功

## 次回セッションへの引き継ぎ
- 次に実装すべき機能
- 注意が必要な点

## 技術的メモ
```typescript
// コード例
```
```

---

## ✅ セッション開始前のチェックリスト

以下をすべて確認してから実装作業を開始してください:

- [ ] `report/progress.md` を読んで現在の進捗を把握した
- [ ] `report/sessions/` の最新日記を読んで前回の作業内容を理解した
- [ ] 関連する設計書（`instructions/*.md`）を参照した
- [ ] 実装ガイド（`instructions/prompts/*.md`）を確認した
- [ ] 今回のセッションのゴールを明確に設定した

**すべてチェックできたら、実装作業を開始してください！**

---

## 📌 よくある質問

### Q1: 進捗ファイルとセッション日記の違いは？
- **進捗ファイル（progress.md）**: プロジェクト全体の現在地を示す「マイルストーン」。編集可能。
- **セッション日記（sessions/*.md）**: 各セッションの詳細な作業ログ。追記専用（過去のセッションは編集しない）。

### Q2: 設計書と実装ガイドの使い分けは？
- **設計書（instructions/*.md）**: **何を**実装するか（仕様・アーキテクチャ）
- **実装ガイド（prompts/*.md）**: **どうやって**実装するか（手順・コマンド）

### Q3: セッション日記は毎回必ず作成する？
- **はい、必ず作成してください。** 小さな作業でも記録することで、トラブル発生時のトレーサビリティが確保されます。

---

**それでは、良い実装を！🚀**
